import type { FeatureId, GeoCoordinate, GiraffeProjectApp, LayerTree, Lensable, OtherProjectApp, Project, ProjectLayer, RawSection, StackedSection, Vista } from '@gi-nx/gi-types';
import { MiniIframeRPC } from '@gi-nx/mini-iframe-rpc';
import { FeatureCollection } from 'geojson';
import type { AnyLayer, Sources } from 'mapbox-gl';
export type GiraffeStateEventKey = 'selected' | 'mapSelectCoord' | 'mapView' | 'mapContent' | 'projects' | 'bakedSections' | 'projectLayers' | 'rawSections' | 'projectOrigin' | 'project' | 'projectAppsByAppID' | 'layerTree' | 'selectedProjectApp' | 'views' | 'giraffe_user' | 'closingSignal' | 'mapHoverCoords' | 'uiEvent' | 'uiLayout' | 'contextMenuClick' | 'mapboxEvent';
export type GiraffeFeature = RawSection | StackedSection | Project;
export type MapView = {
    bounds: [[number, number], [number, number]];
    zoom: number;
    center: [number, number];
};
export type MapContent = {
    layers: AnyLayer[];
    sources: Sources;
};
export interface GiraffeStateAttr {
    selected?: (Lensable | RawSection)[];
    mapView?: MapView;
    mapContent?: MapContent;
    projects?: Record<string, Project>;
    bakedSections?: Record<FeatureId, StackedSection[]>;
    projectLayers?: ProjectLayer[];
    rawSections?: Record<FeatureId, RawSection>;
    project?: Project;
    projectOrigin?: GeoCoordinate | null;
    projectAppsByAppID?: {
        '1'?: GiraffeProjectApp;
    } & Record<string, OtherProjectApp>;
    layerTree?: LayerTree;
    selectedProjectApp?: OtherProjectApp | GiraffeProjectApp;
    mapHoverCoords?: [number, number];
    closingSignal?: boolean;
    uiLayout?: {
        controlled: {
            leftBarOpenWidth: number;
            rightBarOpenWidth: number;
            leftBarOpen: boolean;
            rightBarOpen: boolean;
            lensTableHeight: number;
            sdkPopupOpen: boolean;
        };
        derived: {
            rightBarWidth: number;
            leftBarWidth: number;
            bottomBarIframeHeight: number;
            lensTableHeight: number;
        };
        windowDimensions: {
            width: number;
            height: number;
        };
    };
    userEvent?: {
        type: 'contextmenu';
        menuItem: string;
        lngLat: [number, number];
    };
    contextMenuClick?: {
        lng: number | null;
        lat: number | null;
        label: string;
    };
    views?: Vista[];
}
export interface GiraffeStateGet extends Omit<GiraffeStateAttr, 'rawSections' | 'bakedSections' | 'projects' | 'selected' | 'selectedSectionIds'> {
    projects?: FeatureCollection<Project['geometry'], Project['properties']>;
    rawSections?: FeatureCollection<RawSection['geometry'], RawSection['properties']>;
    bakedSections?: FeatureCollection<StackedSection['geometry'], StackedSection['properties']>;
    selected?: FeatureCollection;
}
export type GiraffeStateEvent = {
    type: GiraffeStateEventKey;
} & GiraffeStateAttr;
export declare class GiraffeState {
    constructor();
    attr: GiraffeStateAttr;
    get(key: 'selected'): GiraffeStateGet['selected'];
    get(key: 'mapView'): GiraffeStateGet['mapView'];
    get(key: 'mapContent'): GiraffeStateGet['mapContent'];
    get(key: 'projects'): GiraffeStateGet['projects'];
    get(key: 'bakedSections'): GiraffeStateGet['bakedSections'];
    get(key: 'projectLayers'): GiraffeStateGet['projectLayers'];
    get(key: 'rawSections'): GiraffeStateGet['rawSections'];
    get(key: 'project'): GiraffeStateGet['project'];
    get(key: 'projectOrigin'): GiraffeStateGet['projectOrigin'];
    get(key: 'projectAppsByAppID'): GiraffeStateGet['projectAppsByAppID'];
    get(key: 'layerTree'): GiraffeStateGet['layerTree'];
    get(key: 'selectedProjectApp'): GiraffeStateGet['selectedProjectApp'];
    get(key: 'views'): GiraffeStateGet['views'];
    get(key: GiraffeStateEventKey): any;
    listeners: Record<string, any>;
    set(key: any, value: any, event: any): void;
    addListener(keys: GiraffeStateEventKey[], listener: (key: GiraffeStateEventKey, event: MessageEvent) => void): string;
    removeListener(listenerKey: any): void;
    removeAllListeners(): void;
    listen(): void;
}
export declare const giraffeState: GiraffeState;
export declare const rpc: MiniIframeRPC;
