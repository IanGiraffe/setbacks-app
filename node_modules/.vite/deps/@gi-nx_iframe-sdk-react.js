import {
  require_src
} from "./chunk-EWS7Q47P.js";
import {
  require_react
} from "./chunk-TLNGBK35.js";
import {
  __commonJS
} from "./chunk-BUSYA2B4.js";

// node_modules/@gi-nx/iframe-sdk-react/src/lib/react-fast-compare.js
var require_react_fast_compare = __commonJS({
  "node_modules/@gi-nx/iframe-sdk-react/src/lib/react-fast-compare.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.isEqual = isEqual;
    var hasElementType = typeof Element !== "undefined";
    var hasMap = typeof Map === "function";
    var hasSet = typeof Set === "function";
    var hasArrayBuffer = typeof ArrayBuffer === "function" && !!ArrayBuffer.isView;
    function equal(a, b) {
      if (a === b)
        return true;
      if (a && b && typeof a == "object" && typeof b == "object") {
        if (a.constructor !== b.constructor)
          return false;
        var length, i, keys;
        if (Array.isArray(a)) {
          length = a.length;
          if (length != b.length)
            return false;
          for (i = length; i-- !== 0; )
            if (!equal(a[i], b[i]))
              return false;
          return true;
        }
        var it;
        if (hasMap && a instanceof Map && b instanceof Map) {
          if (a.size !== b.size)
            return false;
          it = a.entries();
          while (!(i = it.next()).done)
            if (!b.has(i.value[0]))
              return false;
          it = a.entries();
          while (!(i = it.next()).done)
            if (!equal(i.value[1], b.get(i.value[0])))
              return false;
          return true;
        }
        if (hasSet && a instanceof Set && b instanceof Set) {
          if (a.size !== b.size)
            return false;
          it = a.entries();
          while (!(i = it.next()).done)
            if (!b.has(i.value[0]))
              return false;
          return true;
        }
        if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {
          length = a.length;
          if (length != b.length)
            return false;
          for (i = length; i-- !== 0; )
            if (a[i] !== b[i])
              return false;
          return true;
        }
        if (a.constructor === RegExp)
          return a.source === b.source && a.flags === b.flags;
        if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === "function" && typeof b.valueOf === "function")
          return a.valueOf() === b.valueOf();
        if (a.toString !== Object.prototype.toString && typeof a.toString === "function" && typeof b.toString === "function")
          return a.toString() === b.toString();
        keys = Object.keys(a);
        length = keys.length;
        if (length !== Object.keys(b).length)
          return false;
        for (i = length; i-- !== 0; )
          if (!Object.prototype.hasOwnProperty.call(b, keys[i]))
            return false;
        if (hasElementType && a instanceof Element)
          return false;
        for (i = length; i-- !== 0; ) {
          if ((keys[i] === "_owner" || keys[i] === "__v" || keys[i] === "__o") && a.$$typeof) {
            continue;
          }
          if (!equal(a[keys[i]], b[keys[i]]))
            return false;
        }
        return true;
      }
      return a !== a && b !== b;
    }
    function isEqual(a, b) {
      try {
        return equal(a, b);
      } catch (error) {
        if ((error.message || "").match(/stack|recursion/i)) {
          console.warn("react-fast-compare cannot handle circular refs");
          return false;
        }
        throw error;
      }
    }
  }
});

// node_modules/@gi-nx/iframe-sdk-react/src/lib/iframe-sdk-react.js
var require_iframe_sdk_react = __commonJS({
  "node_modules/@gi-nx/iframe-sdk-react/src/lib/iframe-sdk-react.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.useGiraffeState = useGiraffeState;
    var iframe_sdk_1 = require_src();
    var react_1 = require_react();
    var react_fast_compare_1 = require_react_fast_compare();
    function useGiraffeState(key) {
      const storeCache = (0, react_1.useRef)({});
      return (0, react_1.useSyncExternalStore)((update) => {
        const listenerId = iframe_sdk_1.giraffeState.addListener([key], () => {
          update();
        });
        return () => {
          iframe_sdk_1.giraffeState.removeListener(listenerId);
        };
      }, () => {
        if (storeCache.current[key] === void 0 || !(0, react_fast_compare_1.isEqual)(storeCache.current[key], iframe_sdk_1.giraffeState.get(key))) {
          storeCache.current[key] = iframe_sdk_1.giraffeState.get(key);
          return storeCache.current[key];
        } else {
          return storeCache.current[key];
        }
      });
    }
  }
});

// node_modules/@gi-nx/iframe-sdk-react/src/index.js
var require_src2 = __commonJS({
  "node_modules/@gi-nx/iframe-sdk-react/src/index.js"(exports) {
    var __createBinding = exports && exports.__createBinding || (Object.create ? (function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      var desc = Object.getOwnPropertyDescriptor(m, k);
      if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
        desc = { enumerable: true, get: function() {
          return m[k];
        } };
      }
      Object.defineProperty(o, k2, desc);
    }) : (function(o, m, k, k2) {
      if (k2 === void 0) k2 = k;
      o[k2] = m[k];
    }));
    var __exportStar = exports && exports.__exportStar || function(m, exports2) {
      for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports2, p)) __createBinding(exports2, m, p);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    __exportStar(require_iframe_sdk_react(), exports);
  }
});
export default require_src2();
//# sourceMappingURL=@gi-nx_iframe-sdk-react.js.map
